<h2 style="margin-top: 60px; margin-bottom: 60px; margin-left: 30px; text-align: center;">Update Category</h2>

<div class="container m-8">
  <tr *ngIf="categories.length == 0">
    <td scope="row" colspan="8" class="text-center text-bold">No category found</td>
  </tr>
  <div>

    <div *ngIf="categories.length>0">
      <h6>Select one of the category to update</h6>


      <form (Submit)="onUpdateCategory()">
        <div class="form-group">
          <label for="name">Category Name</label>
          <input type="text" class="form-control" id="name" [(ngModel)]="name">
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <input type="text" class="form-control" id="description" [(ngModel)]="description">
        </div>

        <div class="form-group">
          <label for="image">Image</label>
          <input type="text" class="form-control" id="image" [(ngModel)]="image">
        </div>
        <button type="submit" class="btn btn-warning my-2">Update Category</button>
      </form>
    </div>
    <hr>

    <table class="table table-striped">
      <tr>
        <th>Category ID</th>
        <th>Name</th>
        <th>Image</th>
        <th>Created Date</th>
        <th>Select</th>
      </tr>
      <tr *ngFor="let category of categories">
        <td>{{category.catId}}</td>
        <td>{{category.name | caps}}</td>
        <td>
          <img 
          *ngIf="category.image"
            [src]="category.image.startsWith('/') ? category.image : '/assets/Images/' + category.image"
            alt="Category Image" 
            style="width: 500px; height: auto;" 
            />
          <img *ngIf="!category.image" 
          [src]="'/assets/Images/Categoryimg.png'" 
          alt="Default Image"
          style="width: 500px; height: auto;"
           />
          
        </td>
        <td>{{category.createdAtFormatted}}</td>
        <td>
          <button class="btn btn-primary" (click)="onSelectUpdate(category.catId)">Select</button>
        </td>
      </tr>
    </table>
  </div>