<h2 style="margin-top: 60px; margin-bottom: 60px; margin-left: 30px; text-align: center;">Update Category</h2>

<div class="container m-8">
  <tr *ngIf="categories.length == 0">
    <td scope="row" colspan="8" class="text-center text-bold">No category found</td>
  </tr>
  <div>

    <div *ngIf="categories.length>0">
      <h6>Select one of the category to update</h6>

      <form>

        <div class="form-group mb-4">
          <label for="name">Category Name</label>
          <input type="text" class="form-control" id="name" [(ngModel)]="name">
          <div *ngIf="!alphanumericName()" class="text-danger">Name must be alphanumeric!</div>

        </div>

        <div class="form-group mb-4">
          <label for="description">Description</label>
          <input type="text" class="form-control" id="description" [(ngModel)]="description">
        </div>

        <div class="form-group mb-4">
          <label for="image">Image</label>
          <input type="text" class="form-control" id="description" [(ngModel)]="image">
        </div>

        <button class="btn btn-success" (click)="onUpdateCategory()">Update Category</button>

      </form>
    </div>
    <hr>

    <table class="table table-striped">
      <tr>
        <th>Category ID</th>
        <th>Name</th>
        <th>Created Date</th>
        <th>Select</th>
      </tr>
      <tr *ngFor="let category of categories">
        <td>{{category.catId}}</td>
        <td>{{category.name | capital}}</td>
        <td>{{category.createdAtFormatted}}</td>
        <td>
          <button class="btn"
            [ngClass]="{ 'btn-primary': category == selectedCategory, 'btn-secondary': category !== selectedCategory }"
            (click)="onSelectUpdate(category)">Select</button>
        </td>
      </tr>
    </table>
  </div>